<html>

<head>
    <title>Chatbot Widget</title>

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Raleway:500&display=swap" rel="stylesheet">

    <!--Import Font Awesome Icon Font-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

    <!--Import materialize.css-->
    <link rel="stylesheet" type="text/css" href="static/css/materialize.min.css">

    <!--Main css-->
    <link rel="stylesheet" type="text/css" href="static/css/style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <style>
        @media only screen and (max-width: 600px) {
            .tooltip:hover .tooltiptext {
                visibility: hidden !important;
        }
        }

        .tooltip {
          position: relative;
          display: inline-block;
          border-bottom: 1px dotted black;
        }
        
        .tooltip .tooltiptext {
          visibility: hidden;
          /*width: 120px;*/
          background-color:  #fff;
          color: black;
          text-align: center;
          border-radius: 6px;
          padding: 5px 0;
          
          /* Position the tooltip */
          position: absolute;
          z-index: 1;
          bottom: 100%;
          left: 50%;
          margin-left: -60px;
        }
        
        .tooltip:hover .tooltiptext {
          visibility: visible;
        }
        </style>
</head>

<body>
    <div class="container">

        <!-- Modal for rendering the charts, declare this if you want to render charts, 
         else you remove the modal -->
        <div id="modal1" class="modal">
            <canvas id="modal-chart"></canvas>
        </div>

        <!--chatbot widget -->
        <div class="widget">
            <div class="chat_header">

                <!--Add the name of the bot here -->
                <span class="chat_header_title">‡∂∏‡∂†‡∂Ç</span>
                <span class="dropdown-trigger" href='#' data-target='dropdown1'>
                  <i class="material-icons">
                  more_vert
                  </i>
               </span>

                <!-- Dropdown menu-->
                <ul id='dropdown1' class='dropdown-content'>
                    <li><a href="#" id="clear">Clear</a></li>
                    <li><a href="#" id="restart">Restart</a></li>
                    <li><a href="#" id="close">Close</a></li>
                </ul>
            </div>

            <!--Chatbot contents goes here -->
            <div class="chats" id="chats">
                <div class="clearfix"></div>

            </div>

            <!--keypad for user to type the message -->
            <div class="keypad tooltip">
               
                <span class="tooltiptext" id="userInput"></span>
                <textarea id="userInput1" onkeyup="startText();" onselect="startText();" onclick="startText();" placeholder="Type a message..." class="usrInput "></textarea>
                
                <div id="sendButton" onclick="sendAction()"><i class="fa fa-paper-plane" aria-hidden="true"></i></div>
            </div>
        </div>

        <!--bot profile-->
        <div class="profile_div" id="profile_div">
            <img class="imgProfile" src="static/img/botAvatar.png" />
        </div>

        <!-- Bot pop-up intro -->
        <div class="tap-target" data-target="profile_div">
            <div class="tap-target-content">
                <h5 class="white-text">‡∂î‡∂∂‡∂ß ‡∂ö‡∑ú‡∑Ñ‡∑ú‡∂∏‡∂Ø? üëã</h5>
                <p class="white-text">‡∂∏‡∂∏ ‡∂î‡∂∂‡∂ß ‡∂ö‡∑ë‡∂∏  ‡∂á‡∂±‡∑Ä‡∑î‡∂∏‡∑ä ‡∂ö‡∑í‡∂ª‡∑ä‚Äç‡∂ª‡∂∏ ‡∑É‡∂Ø‡∑Ñ‡∑è ‡∑É‡∑Ñ‡∂∫ ‡∑Ä‡∂±‡∑ä‡∂±‡∂∏‡∑ä.</p>
            </div>
        </div>

    </div>
   

    <!--JavaScript at end of body for optimized loading-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script type="text/javascript" src="static/js/materialize.min.js"></script>

    <!--Main Script -->
    <script type="text/javascript" src="static/js/script.js"></script>

    <!--Chart.js Script -->
    <script type="text/javascript" src="static/js/chart.min.js"></script>



<script language="JavaScript" type="text/javascript">
   
    var text;
    var nVowels;
    var consonants= new Array()
    var consonantsUni= new Array()
    var vowels= new Array()
    var vowelsUni= new Array()
    var vowelModifiersUni= new Array()
    var specialConsonants= new Array()
    var specialConsonantsUni= new Array()
    var specialCharUni= new Array()
    var specialChar= new Array()
    
    
        vowelsUni[0]='‡∂å';    vowels[0]='oo';    vowelModifiersUni[0]='‡∑ñ';
        vowelsUni[1]='‡∂ï';    vowels[1]='o\\)';    vowelModifiersUni[1]='‡∑ù';
        vowelsUni[2]='‡∂ï';    vowels[2]='oe';    vowelModifiersUni[2]='‡∑ù';
        vowelsUni[3]='‡∂Ü';    vowels[3]='aa';    vowelModifiersUni[3]='‡∑è';
        vowelsUni[4]='‡∂Ü';    vowels[4]='a\\)';    vowelModifiersUni[4]='‡∑è';
        vowelsUni[5]='‡∂à';    vowels[5]='Aa';    vowelModifiersUni[5]='‡∑ë';
        vowelsUni[6]='‡∂à';    vowels[6]='A\\)';    vowelModifiersUni[6]='‡∑ë';
        vowelsUni[7]='‡∂à';    vowels[7]='ae';    vowelModifiersUni[7]='‡∑ë';
        vowelsUni[8]='‡∂ä';    vowels[8]='ii';    vowelModifiersUni[8]='‡∑ì';
        vowelsUni[9]='‡∂ä';    vowels[9]='i\\)';    vowelModifiersUni[9]='‡∑ì';
        vowelsUni[10]='‡∂ä';    vowels[10]='ie';    vowelModifiersUni[10]='‡∑ì';
        vowelsUni[11]='‡∂ä';    vowels[11]='ee';    vowelModifiersUni[11]='‡∑ì';
        vowelsUni[12]='‡∂í';    vowels[12]='ea';    vowelModifiersUni[12]='‡∑ö';
        vowelsUni[13]='‡∂í';    vowels[13]='e\\)';    vowelModifiersUni[13]='‡∑ö';
        vowelsUni[14]='‡∂í';    vowels[14]='ei';    vowelModifiersUni[14]='‡∑ö';
        vowelsUni[15]='‡∂å';    vowels[15]='uu';    vowelModifiersUni[15]='‡∑ñ';
        vowelsUni[16]='‡∂å';    vowels[16]='u\\)';    vowelModifiersUni[16]='‡∑ñ';
        vowelsUni[17]='‡∂ñ';    vowels[17]='au';    vowelModifiersUni[17]='‡∑û';
        vowelsUni[18]='‡∂á';    vowels[18]='/\a';    vowelModifiersUni[18]='‡∑ê';
        
        vowelsUni[19]='‡∂Ö';    vowels[19]='a';    vowelModifiersUni[19]='';
        vowelsUni[20]='‡∂á';    vowels[20]='A';    vowelModifiersUni[20]='‡∑ê';
        vowelsUni[21]='‡∂â';    vowels[21]='i';    vowelModifiersUni[21]='‡∑í';
        vowelsUni[22]='‡∂ë';    vowels[22]='e';    vowelModifiersUni[22]='‡∑ô';
        vowelsUni[23]='‡∂ã';    vowels[23]='u';    vowelModifiersUni[23]='‡∑î';
        vowelsUni[24]='‡∂î';    vowels[24]='o';    vowelModifiersUni[24]='‡∑ú';
        vowelsUni[25]='‡∂ì';    vowels[25]='I';    vowelModifiersUni[25]='‡∑õ';
        nVowels=26;
    
        specialConsonantsUni[0]='‡∂Ç'; specialConsonants[0]=/\\n/g;
        specialConsonantsUni[1]='‡∂É'; specialConsonants[1]=/\\h/g;
        specialConsonantsUni[2]='‡∂û'; specialConsonants[2]=/\\N/g;
        specialConsonantsUni[3]='‡∂ç'; specialConsonants[3]=/\\R/g;
        //special characher Repaya
        specialConsonantsUni[4]='‡∂ª‡∑ä'+'\u200D'; specialConsonants[4]=/R/g;
        specialConsonantsUni[5]='‡∂ª‡∑ä'+'\u200D'; specialConsonants[5]=/\\r/g;
        
        consonantsUni[0]='‡∂¨'; consonants[0]='nnd';
        consonantsUni[1]='‡∂≥'; consonants[1]='nndh';
        consonantsUni[2]='‡∂ü'; consonants[2]='nng';
        consonantsUni[3]='‡∂Æ'; consonants[3]='Th';
        consonantsUni[4]='‡∂∞'; consonants[4]='Dh';
        consonantsUni[5]='‡∂ù'; consonants[5]='gh';
        consonantsUni[6]='‡∂°'; consonants[6]='Ch';
        consonantsUni[7]='‡∂µ'; consonants[7]='ph';
        consonantsUni[8]='‡∂∑'; consonants[8]='bh';
        consonantsUni[9]='‡∑Å'; consonants[9]='sh';
        consonantsUni[10]='‡∑Ç'; consonants[10]='Sh';
        consonantsUni[11]='‡∂•'; consonants[11]='GN';
        consonantsUni[12]='‡∂§'; consonants[12]='KN';
        consonantsUni[13]='‡∑Ö‡∑î'; consonants[13]='Lu';
        consonantsUni[14]='‡∂Ø'; consonants[14]='dh';
        consonantsUni[15]='‡∂†'; consonants[15]='ch';
        consonantsUni[16]='‡∂õ'; consonants[16]='kh';
        consonantsUni[17]='‡∂≠'; consonants[17]='th';
        
        consonantsUni[18]='‡∂ß'; consonants[18]='t';
        consonantsUni[19]='‡∂ö'; consonants[19]='k';    
        consonantsUni[20]='‡∂©'; consonants[20]='d';
        consonantsUni[21]='‡∂±'; consonants[21]='n';
        consonantsUni[22]='‡∂¥'; consonants[22]='p';
        consonantsUni[23]='‡∂∂'; consonants[23]='b';
        consonantsUni[24]='‡∂∏'; consonants[24]='m';   
        consonantsUni[25]='‚Äç‡∂∫'; consonants[25]='\\u005C' + 'y';
        consonantsUni[26]='‚Äç‡∂∫'; consonants[26]='Y';
        consonantsUni[27]='‡∂∫'; consonants[27]='y';
        consonantsUni[28]='‡∂¢'; consonants[28]='j';
        consonantsUni[29]='‡∂Ω'; consonants[29]='l';
        consonantsUni[30]='‡∑Ä'; consonants[30]='v';
        consonantsUni[31]='‡∑Ä'; consonants[31]='w';
        consonantsUni[32]='‡∑É'; consonants[32]='s';
        consonantsUni[33]='‡∑Ñ'; consonants[33]='h';
        consonantsUni[34]='‡∂´'; consonants[34]='N';
        consonantsUni[35]='‡∑Ö'; consonants[35]='L';
        consonantsUni[36]='‡∂õ'; consonants[36]='K';
        consonantsUni[37]='‡∂ù'; consonants[37]='G';
        consonantsUni[38]='‡∂®'; consonants[38]='T';
        consonantsUni[39]='‡∂™'; consonants[39]='D';
        consonantsUni[40]='‡∂µ'; consonants[40]='P';
        consonantsUni[41]='‡∂π'; consonants[41]='B';
        consonantsUni[42]='‡∑Ü'; consonants[42]='f';
        consonantsUni[43]='‡∂£'; consonants[43]='q';
        consonantsUni[44]='‡∂ú'; consonants[44]='g';
        //last because we need to ommit this in dealing with Rakaransha
        consonantsUni[45]='‡∂ª'; consonants[45]='r';
    
        specialCharUni[0]='‡∑≤'; specialChar[0]='ruu';
        specialCharUni[1]='‡∑ò'; specialChar[1]='ru';
        //specialCharUni[2]='‡∑ä‚Äç‡∂ª'; specialChar[2]='ra';
        
    
    function startText() {
        var s,r,v;
        var tt=document.getElementById("userInput1");
        text = tt.value;  
        //special consonents
        for (var i=0; i<specialConsonants.length; i++){
            text = text.replace(specialConsonants[i], specialConsonantsUni[i]);
        }
        //consonents + special Chars
        for (var i=0; i<specialCharUni.length; i++){
            for (var j=0;j<consonants.length;j++){
                s = consonants[j] + specialChar[i];
                v = consonantsUni[j] + specialCharUni[i];
                r = new RegExp(s, "g");
                text = text.replace(r, v);
            }
        }
        //consonants + Rakaransha + vowel modifiers
        for (var j=0;j<consonants.length;j++){
            for (var i=0;i<vowels.length;i++){
                s = consonants[j] + "r" + vowels[i];
                v = consonantsUni[j] + "‡∑ä‚Äç‡∂ª" + vowelModifiersUni[i];
                r = new RegExp(s, "g");
                text = text.replace(r, v);
            }
            s = consonants[j] + "r";
            v = consonantsUni[j] + "‡∑ä‚Äç‡∂ª";
            r = new RegExp(s, "g");
            text = text.replace(r, v);
        }
        //consonents + vowel modifiers
        for (var i=0;i<consonants.length;i++){
            for (var j=0;j<nVowels;j++){ 
                s = consonants[i]+vowels[j];
                v = consonantsUni[i] + vowelModifiersUni[j];
                r = new RegExp(s, "g");
                text = text.replace(r, v);
            }
        }
    
        //consonents + HAL
        for (var i=0; i<consonants.length; i++){
            r = new RegExp(consonants[i], "g");
            text = text.replace(r, consonantsUni[i]+"‡∑ä");
        }
            
        //vowels
        for (var i=0; i<vowels.length; i++){
            r = new RegExp(vowels[i], "g");
            text = text.replace(r, vowelsUni[i]);
        }
    
        //document.txtBox.box2.value=text;
        document.getElementById("userInput").innerHTML = text;
       
    }
    
    function copyit(theField) {
        var tempval=eval("document."+theField);
        tempval.focus();
        tempval.select();
        therange=tempval.createTextRange();
        therange.execCommand("Copy")
    }
    
    var schemeVisible = 0;
    function changeVisibility(){
        if (schemeVisible){
            document.getElementById('scheme').style.visibility='hidden';
            document.getElementById('link').innerHTML="&nbsp;Show Transliteration Scheme&nbsp;";
            schemeVisible=0;
        }
        else{
            document.getElementById('scheme').style.visibility='visible';
            document.getElementById('link').innerHTML="&nbsp;&nbsp;Hide Transliteration Scheme&nbsp;";
            schemeVisible=1;
        }
    }
    
    
        </script>

    
      
               
                   
</body>


</html>